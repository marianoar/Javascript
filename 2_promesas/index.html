<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    //para solucionar el problema de callback hell aparece el concepto de Promesa

    function miFuncion(a) {

      return new Promise((res, rej) => {
        setTimeout(() => {
          if (a > 10) {
            res("todo bien");
          }
          else {
            rej("todo mal");
          }
        }, 2000);
      });
    }

    miFuncion(9)
      .then(respuesta => {
        console.log(respuesta);
      }).catch(error => {
        console.log(error);
      });

    function sumar(a, b) {
      let suma;

      return new Promise((resolve, reject) => {
        
        setTimeout(() => {
          if(typeof a !==  "number" || typeof b !== "number"){
            reject("Parametros suma invaludos");
          }else{
            resolve(a+b);
          }
        }, 3000);
      });
    };

    function cuadrado(a) {
      return new Promise((resolve, reject) => {
        
        setTimeout(() => {
          if(typeof a !==  "number" ){
            reject("Parametros cuadrado invalidos");
          }else{
            resolve(a*a);
          }
        }, 3000);
      });
    };

    function producto(a, b) {
      let prod;

      return new Promise((resolve, reject) => {
        
        setTimeout(() => {
          if(typeof a !==  "number" || typeof b !== "number"){
            reject("Parametros producto invalidos");
          }else{
            resolve(a*b);
          }
        }, 3000);
      });
    };

// sumar(4,3)
//   .then((suma)=>{
//   return (cuadrado(suma))
// })
//   .then(cuad=>{
//   return producto(cuad, 10)
// })
//   .then(resultado=>{
//   console.log("el resultado es: "+resultado);
// })
//   .catch(error=>{
//     console.log(error);
//   });

sumar(4,3)
  .then(suma=> cuadrado(suma))
  .then(cuad=> producto(cuad, 10))
  .then(resultado=>{ console.log("el resultado es: "+resultado);})
  .catch(error=>{ console.log(error); });

  
  </script>
</body>

</html>